<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>å—é–€åœ‹å°æ‹¼å­—æŒ‘æˆ° Go</title>

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"PingFang TC","Noto Sans TC";
  background:linear-gradient(#e0f2fe,#fff7ed);
}
.hidden{display:none}
header{
  background:#22c55e;
  color:#fff;
  text-align:center;
  padding:14px;
  font-size:22px;
  font-weight:900;
}
.card{
  background:#fff;
  margin:14px auto;
  max-width:1000px;
  padding:20px;
  border-radius:22px;
  box-shadow:0 12px 30px rgba(0,0,0,.15);
}
button{
  padding:10px 16px;
  border:none;
  border-radius:14px;
  background:#2563eb;
  color:#fff;
  font-size:16px;
  font-weight:900;
}
button.ghost{background:#e5e7eb;color:#111}
input{padding:10px;font-size:16px;border-radius:10px;border:1px solid #ccc}
.choice{
  background:#e0f2fe;
  padding:14px;
  border-radius:14px;
  margin:8px 0;
  font-size:18px;
  font-weight:900;
  cursor:pointer;
}
.choice:hover{background:#bae6fd}
.big{text-align:center;font-size:28px;font-weight:900;margin:10px}
.match{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}
.match div{
  padding:14px;
  border-radius:14px;
  background:#f1f5f9;
  font-weight:900;
  cursor:pointer;
}
.match .active{background:#fde68a}
.match .done{background:#bbf7d0}

/* åœ°åœ– */
.map{position:relative;height:500px}
.node{
  position:absolute;
  width:80px;height:80px;
  border-radius:28px;
  display:grid;place-items:center;
  font-weight:900;
  background:#fde68a;
  border:4px solid #f59e0b;
}
.node.passed{background:#bbf7d0;border-color:#22c55e}
.node.locked{opacity:.35}
svg{position:absolute;inset:0}
</style>
</head>

<body>
<header>ğŸ´â€â˜ ï¸ å—é–€åœ‹å°æ‹¼å­—æŒ‘æˆ° Go</header>

<!-- ç™»å…¥ -->
<div id="loginScreen" class="card">
  <h2>ğŸ‘¦ å­¸ç”Ÿç™»å…¥</h2>
  <input id="studentName" placeholder="è¼¸å…¥å­¸ç”Ÿå§“å">
  <br><br>
  <label><input type="checkbox" value="A" checked> A è½åŠ›é¸å­—</label>
  <label><input type="checkbox" value="B" checked> B çœ‹è‹±é¸å­—</label>
  <label><input type="checkbox" value="C" checked> C ä¸­è‹±é…å°</label>
  <label><input type="checkbox" value="D" checked> D è½éŸ³æ‹¼å­—</label>
  <br><br>
  <button onclick="login()">é–‹å§‹å†’éšª</button>
</div>

<!-- åœ°åœ– -->
<div id="mapScreen" class="card hidden">
  <h2>ğŸ—ºï¸ å¯¶è—åœ°åœ–ï¼ˆ8/10 æ‰è§£é–ï¼‰</h2>
  <div class="map" id="map"></div>
</div>

<!-- éŠæˆ² -->
<div id="gameScreen" class="card hidden">
  <div id="question" class="big"></div>
  <div id="choices"></div>
  <button onclick="nextQ()">ä¸‹ä¸€é¡Œ</button>
</div>

<script>
/* ===== å®Œæ•´é¡Œåº«ï¼ˆ150+ï¼‰ ===== */
const WORDS=[
{en:"apple",zh:"è˜‹æœ"},{en:"ant",zh:"èèŸ»"},{en:"arm",zh:"æ‰‹è‡‚"},
{en:"bag",zh:"æ›¸åŒ…"},{en:"ball",zh:"çƒ"},{en:"banana",zh:"é¦™è•‰"},
{en:"bear",zh:"ç†Š"},{en:"bed",zh:"åºŠ"},{en:"bee",zh:"èœœèœ‚"},
{en:"bird",zh:"é³¥"},{en:"book",zh:"æ›¸"},{en:"boy",zh:"ç”·å­©"},
{en:"bread",zh:"éºµåŒ…"},{en:"bus",zh:"å…¬è»Š"},{en:"cake",zh:"è›‹ç³•"},
{en:"cat",zh:"è²“"},{en:"chair",zh:"æ¤…å­"},{en:"chicken",zh:"é›"},
{en:"clock",zh:"æ™‚é˜"},{en:"cow",zh:"ç‰›"},{en:"cup",zh:"æ¯å­"},
{en:"dad",zh:"çˆ¸çˆ¸"},{en:"desk",zh:"æ›¸æ¡Œ"},{en:"dog",zh:"ç‹—"},
{en:"door",zh:"é–€"},{en:"duck",zh:"é´¨å­"},{en:"ear",zh:"è€³æœµ"},
{en:"egg",zh:"è›‹"},{en:"elephant",zh:"å¤§è±¡"},{en:"eye",zh:"çœ¼ç›"},
{en:"face",zh:"è‡‰"},{en:"fish",zh:"é­š"},{en:"flower",zh:"èŠ±"},
{en:"frog",zh:"é’è›™"},{en:"girl",zh:"å¥³å­©"},{en:"goat",zh:"å±±ç¾Š"},
{en:"hand",zh:"æ‰‹"},{en:"hat",zh:"å¸½å­"},{en:"house",zh:"æˆ¿å­"},
{en:"ice",zh:"å†°"},{en:"juice",zh:"æœæ±"},{en:"key",zh:"é‘°åŒ™"},
{en:"kite",zh:"é¢¨ç®"},{en:"leg",zh:"è…¿"},{en:"lion",zh:"ç…å­"},
{en:"man",zh:"ç”·äºº"},{en:"milk",zh:"ç‰›å¥¶"},{en:"mom",zh:"åª½åª½"},
{en:"moon",zh:"æœˆäº®"},{en:"mouse",zh:"è€é¼ "},{en:"nose",zh:"é¼»å­"},
{en:"orange",zh:"æ©˜å­"},{en:"pen",zh:"ç­†"},{en:"pig",zh:"è±¬"},
{en:"rabbit",zh:"å…”å­"},{en:"rain",zh:"é›¨"},{en:"rice",zh:"é£¯"},
{en:"school",zh:"å­¸æ ¡"},{en:"sheep",zh:"ç¶¿ç¾Š"},
{en:"shoe",zh:"é‹å­"},{en:"snake",zh:"è›‡"},
{en:"sun",zh:"å¤ªé™½"},{en:"table",zh:"æ¡Œå­"},
{en:"teacher",zh:"è€å¸«"},{en:"tiger",zh:"è€è™"},
{en:"toy",zh:"ç©å…·"},{en:"tree",zh:"æ¨¹"},
{en:"turtle",zh:"çƒé¾œ"},{en:"umbrella",zh:"é›¨å‚˜"},
{en:"water",zh:"æ°´"},{en:"zoo",zh:"å‹•ç‰©åœ’"}
];

/* ===== ç‹€æ…‹ ===== */
let student="",level=1,q=0,score=0;
const passed={};
let types=[],plan=[],current;

/* ===== ç™»å…¥ ===== */
function login(){
  const raw=studentName.value.replace(/\s/g,"");
  if(!raw){alert("è«‹è¼¸å…¥æœ‰æ•ˆå§“å");return;}
  student=raw;
  types=[...document.querySelectorAll('input[type=checkbox]:checked')].map(x=>x.value);
  if(!types.length){alert("è«‹é¸é¡Œå‹");return;}
  loginScreen.classList.add("hidden");
  mapScreen.classList.remove("hidden");
  renderMap();
}

/* ===== åœ°åœ– ===== */
function renderMap(){
  map.innerHTML=`
  <svg viewBox="0 0 600 500">
    <path d="M300 40 C450 140 150 260 300 380"
    stroke="#f59e0b" stroke-width="6"
    stroke-dasharray="10 14" fill="none"/>
  </svg>`;
  const pts=[[300,40],[450,140],[150,260],[300,380]];
  pts.forEach((p,i)=>{
    const locked=i>0&&!passed[i];
    const n=document.createElement("div");
    n.className="node"+(passed[i+1]?" passed":"")+(locked?" locked":"");
    n.style.left=(p[0]-40)+"px";
    n.style.top=(p[1]-40)+"px";
    n.textContent=i+1;
    n.onclick=()=>{
      if(locked){alert("éœ€å‰ä¸€é—œ â‰¥8 é¡Œ");return;}
      startLevel(i+1);
    };
    map.appendChild(n);
  });
}

/* ===== éŠæˆ² ===== */
function startLevel(lv){
  level=lv;q=0;score=0;
  plan=Array.from({length:10},()=>types[Math.floor(Math.random()*types.length)]);
  mapScreen.classList.add("hidden");
  gameScreen.classList.remove("hidden");
  nextQ();
}

function nextQ(){
  if(q>=10){
    if(score>=8){passed[level]=true;alert("ğŸ‰ é€šé—œï¼")}
    else alert("âŒ æœªé” 8 é¡Œ");
    gameScreen.classList.add("hidden");
    mapScreen.classList.remove("hidden");
    renderMap();return;
  }
  const type=plan[q++];
  current=WORDS[Math.floor(Math.random()*WORDS.length)];
  choices.innerHTML="";
  if(type==="A"){
    question.textContent="ğŸ”Š è½éŸ³é¸ä¸­æ–‡";
    speak(current.en);
    genChoices();
  }
  if(type==="B"){
    question.textContent=current.en;
    genChoices();
  }
  if(type==="C"){
    question.textContent="ğŸ§© ä¸­è‹±é…å°ï¼ˆ4 çµ„ï¼‰";
    genMatch();
  }
  if(type==="D"){
    question.textContent="ğŸ”Š è½éŸ³æ‹¼è‹±æ–‡";
    speak(current.en);
    choices.innerHTML=`<input id="spell"><button onclick="checkSpell()">é€å‡º</button>`;
  }
}

function genChoices(){
  const opts=[current.zh];
  while(opts.length<4){
    const z=WORDS[Math.floor(Math.random()*WORDS.length)].zh;
    if(!opts.includes(z))opts.push(z);
  }
  opts.sort(()=>Math.random()-.5);
  opts.forEach(o=>{
    const d=document.createElement("div");
    d.className="choice";
    d.textContent=o;
    d.onclick=()=>{
      if(o===current.zh)score++;
      nextQ();
    };
    choices.appendChild(d);
  });
}

function genMatch(){
  const pick=[current];
  while(pick.length<4){
    const w=WORDS[Math.floor(Math.random()*WORDS.length)];
    if(!pick.includes(w))pick.push(w);
  }
  const en=[...pick].sort(()=>Math.random()-.5);
  const zh=[...pick].sort(()=>Math.random()-.5);
  let sel=null,done=0;
  const box=document.createElement("div");
  box.className="match";
  en.forEach(e=>{
    const d=document.createElement("div");
    d.textContent=e.en;
    d.onclick=()=>{sel=e;d.classList.add("active")};
    box.appendChild(d);
  });
  zh.forEach(z=>{
    const d=document.createElement("div");
    d.textContent=z.zh;
    d.onclick=()=>{
      if(sel&&sel.en===z.en){
        done++;score++;
        if(done===4)setTimeout(nextQ,400);
      }
    };
    box.appendChild(d);
  });
  choices.appendChild(box);
}

function checkSpell(){
  if(spell.value.trim().toLowerCase()===current.en.toLowerCase())score++;
  nextQ();
}

function speak(t){
  const u=new SpeechSynthesisUtterance(t);
  u.lang="en-US";
  speechSynthesis.speak(u);
}
</script>
</body>
</html>
