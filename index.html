<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>ğŸ¦Š æ‹¼å­—å°ç‹ç‹¸ï½œ100é—œæ··åˆæ¨¡å¼</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:-apple-system,BlinkMacSystemFont;background:#f5f7fb;padding:20px}
.card{background:#fff;max-width:480px;margin:auto;border-radius:16px;
padding:20px;box-shadow:0 10px 25px rgba(0,0,0,.08);text-align:center}
h1{font-size:20px}
.word{font-size:32px;font-weight:bold;margin:12px 0}
.btn{width:100%;padding:12px;margin:6px 0;border:none;border-radius:10px;font-size:16px}
.primary{background:#4f7cff;color:#fff}
.secondary{background:#e9ecf3}
.choice{background:#f0f3ff}
.hint{font-size:14px;color:#666}
small{color:#555}
</style>
</head>
<body>

<div class="card">
<h1>ğŸ¦Š æ‹¼å­—å°ç‹ç‹¸</h1>
<div id="info"></div>
<div id="stage"></div>
<button class="btn secondary" onclick="showTeacher()">ğŸ‘©â€ğŸ« è€å¸«å¾Œå°</button>
</div>

<script>
// ===== å–®å­—ï¼ˆ153ï¼‰=====
const words = [
{en:"able",zh:"èƒ½å¤ "},{en:"all",zh:"æ‰€æœ‰"},{en:"after",zh:"åœ¨â€¦ä¹‹å¾Œ"},
{en:"and",zh:"å’Œ"},{en:"any",zh:"ä»»ä½•"},{en:"ant",zh:"èèŸ»"},
{en:"apple",zh:"è˜‹æœ"},{en:"April",zh:"å››æœˆ"},{en:"ask",zh:"å•"},
{en:"book",zh:"æ›¸"},{en:"ball",zh:"çƒ"},{en:"basket",zh:"ç±ƒå­"},
{en:"banana",zh:"é¦™è•‰"},{en:"bank",zh:"éŠ€è¡Œ"},{en:"bath",zh:"æ´—æ¾¡"},
{en:"bat",zh:"çƒæ£’;è™è "},{en:"beach",zh:"æµ·ç˜"},{en:"become",zh:"æˆç‚º"},
{en:"bed",zh:"åºŠ"},{en:"bee",zh:"èœœèœ‚"},{en:"bite",zh:"å’¬"},
{en:"bicycle",zh:"è…³è¸è»Š"},{en:"bird",zh:"é³¥"},
{en:"black",zh:"é»‘è‰²"},{en:"blue",zh:"è—è‰²"},
{en:"boat",zh:"èˆ¹"},{en:"box",zh:"ç›’å­"},
{en:"boy",zh:"ç”·å­©"},{en:"bread",zh:"éºµåŒ…"},
{en:"break",zh:"æ–·è£‚ï¼›æš«åœ"},{en:"brother",zh:"å…„å¼Ÿ"},
{en:"cake",zh:"è›‹ç³•"},{en:"cap",zh:"æ£’çƒå¸½"},
{en:"camp",zh:"ç‡Ÿåœ°ï¼›å¸³ç¯·"},{en:"card",zh:"å¡ç‰‡"},
{en:"candy",zh:"ç³–æœ"},{en:"care",zh:"é—œæ‡·ï¼›ç…§é¡§"},
{en:"catch",zh:"æŠ“"},{en:"chair",zh:"æ¤…å­"},
{en:"chalk",zh:"ç²‰ç­†"},{en:"check",zh:"æ‰“å‹¾ï¼›ç¢ºèª"},
{en:"cool",zh:"æ¶¼çˆ½çš„;é…·"},{en:"child",zh:"å°å­©"},
{en:"circle",zh:"åœ“"},{en:"coffee",zh:"å’–å•¡"},
{en:"cup",zh:"æ¯å­"},{en:"cute",zh:"å¯æ„›çš„"},
{en:"dark",zh:"é»‘æš—çš„"},{en:"dance",zh:"è·³èˆ"},
{en:"dear",zh:"è¦ªæ„›çš„"},{en:"desk",zh:"æ¡Œå­"},
{en:"doctor",zh:"é†«ç”Ÿ"},{en:"dirty",zh:"é«’çš„"},
{en:"doll",zh:"å¨ƒå¨ƒ"},{en:"dinner",zh:"æ™šé¤"},
{en:"duck",zh:"é´¨å­"},{en:"early",zh:"æ—©çš„"},
{en:"ear",zh:"è€³æœµ"},{en:"egg",zh:"è›‹"},
{en:"elf",zh:"ç²¾éˆ"},{en:"elephant",zh:"å¤§è±¡"},
{en:"eraser",zh:"æ©¡çš®æ“¦"},{en:"fact",zh:"äº‹å¯¦"},
{en:"famous",zh:"æœ‰åçš„"},{en:"fast",zh:"å¿«é€Ÿ"},
{en:"father",zh:"çˆ¸çˆ¸"},{en:"fin",zh:"é­šé°­"},
{en:"feel",zh:"æ„Ÿè¦º"},{en:"find",zh:"å°‹æ‰¾"},
{en:"first",zh:"ç¬¬ä¸€"},{en:"fix",zh:"ä¿®ç†"},
{en:"flower",zh:"èŠ±"},{en:"food",zh:"é£Ÿç‰©"},
{en:"forget",zh:"å¿˜è¨˜"},{en:"fork",zh:"å‰å­"},
{en:"gas",zh:"ç“¦æ–¯"},{en:"girl",zh:"å¥³å­©"},
{en:"game",zh:"éŠæˆ²"},{en:"goat",zh:"å±±ç¾Š"},
{en:"green",zh:"ç¶ è‰²"},{en:"garden",zh:"èŠ±åœ’"},
{en:"give",zh:"çµ¦äºˆ"},{en:"hat",zh:"å¸½å­"},
{en:"ham",zh:"ç«è…¿"},{en:"hand",zh:"æ‰‹"},
{en:"happy",zh:"å¿«æ¨‚çš„"},{en:"hair",zh:"é ­é«®"},
{en:"hard",zh:"å›°é›£"},{en:"hear",zh:"è½"},
{en:"heart",zh:"å¿ƒè‡Ÿ"},{en:"heat",zh:"ç™¼ç†±"},
{en:"help",zh:"å¹«åŠ©"},{en:"in",zh:"åœ¨â€¦è£¡é¢"},
{en:"ice",zh:"å†°"},{en:"igloo",zh:"å†°å±‹"},
{en:"jam",zh:"æœé†¬"},{en:"jacket",zh:"å¤¾å…‹"},
{en:"job",zh:"å·¥ä½œ"},{en:"jump",zh:"è·³"},
{en:"kiss",zh:"è¦ªå»"},{en:"kite",zh:"é¢¨ç®"},
{en:"key",zh:"é‘°åŒ™"},{en:"knee",zh:"è†è“‹"},
{en:"lips",zh:"å˜´å”‡"},{en:"land",zh:"åœŸåœ°"},
{en:"lamp",zh:"ç‡ˆ"},{en:"lazy",zh:"æ‡¶æƒ°"},
{en:"leg",zh:"è…¿"},{en:"mask",zh:"é¢å…·"},
{en:"map",zh:"åœ°åœ–"},{en:"mail",zh:"éƒµä»¶"},
{en:"marker",zh:"å½©è‰²ç­†"},{en:"meat",zh:"è‚‰"},
{en:"moon",zh:"æœˆäº®"},{en:"mother",zh:"åª½åª½"},
{en:"near",zh:"é è¿‘"},{en:"neck",zh:"è„–å­"},
{en:"need",zh:"éœ€è¦"},{en:"news",zh:"æ–°è"},
{en:"noon",zh:"ä¸­åˆ"},{en:"nose",zh:"é¼»å­"},
{en:"oil",zh:"æ²¹"},{en:"old",zh:"è€çš„ï¼›èˆŠçš„"},
{en:"only",zh:"å”¯ä¸€"},{en:"page",zh:"é æ•¸"},
{en:"pet",zh:"å¯µç‰©"},{en:"pencil",zh:"é‰›ç­†"},
{en:"pizza",zh:"æ¯”è–©"},{en:"pot",zh:"é‹å­"},
{en:"pillow",zh:"æ•é ­"},{en:"queen",zh:"çš‡å"},
{en:"question",zh:"å•é¡Œ"},{en:"quick",zh:"å¿«çš„"},
{en:"rat",zh:"é¼ "},{en:"rain",zh:"é›¨"},
{en:"red",zh:"ç´…è‰²"},{en:"robot",zh:"æ©Ÿå™¨äºº"},
{en:"ruler",zh:"å°º"},{en:"sand",zh:"æ²™"},
{en:"same",zh:"ç›¸åŒ"},{en:"send",zh:"é€"},
{en:"sew",zh:"ç¸«è£œ"},{en:"sing",zh:"å”±æ­Œ"},
{en:"sister",zh:"å§å¦¹"},{en:"seven",zh:"7"},
{en:"table",zh:"æ¡Œå­"},{en:"talk",zh:"èªªè©±"},
{en:"thank",zh:"æ„Ÿè¬"},{en:"three",zh:"3"},
{en:"teacher",zh:"è€å¸«"},{en:"tree",zh:"æ¨¹"},
{en:"tub",zh:"æµ´ç¼¸"},{en:"turtle",zh:"çƒé¾œ"},
{en:"up",zh:"ä¸Šé¢"},{en:"yellow",zh:"é»ƒè‰²"}
];

// ===== é—œå¡è¨­å®šï¼ˆå·²ç…§ä½ éœ€æ±‚ï¼‰=====
const PER_LEVEL = 10;   // æ¯é—œ 10 å€‹å­—
const TOTAL_LEVELS = 100;

// ===== é€²åº¦ & éŒ¯èª¤ =====
let progress = JSON.parse(localStorage.getItem("progress")) || {i:0,mode:0,build:""};
let errors = JSON.parse(localStorage.getItem("errors")) || {};
function save(){
  localStorage.setItem("progress",JSON.stringify(progress));
  localStorage.setItem("errors",JSON.stringify(errors));
}

// ===== å·¥å…· =====
function shuffle(a){return [...a].sort(()=>Math.random()-.5);}
function speak(t){const u=new SpeechSynthesisUtterance(t);u.lang="en-US";speechSynthesis.speak(u);}
function logError(type){
  const w=words[progress.i].en;
  errors[w]=errors[w]||{speak:0,choice:0,spell:0};
  errors[w][type]++; save();
}

// ===== UI =====
const stage=document.getElementById("stage");
const info=document.getElementById("info");

function render(){
  const level=Math.floor(progress.i/PER_LEVEL)+1;
  info.innerHTML=`ğŸ¯ ç¬¬ ${level} é—œï¼ˆ${progress.i%PER_LEVEL+1}/${PER_LEVEL}ï¼‰`;
  const w=words[progress.i];

  if(progress.mode===0){
    stage.innerHTML=`
      <div class="word">${w.en}</div>
      <button class="btn secondary" onclick="speak('${w.en}')">ğŸ”Š è½</button>
      <button class="btn primary" onclick="startSpeech()">ğŸ¤ èªª</button>
      <small>è«‹å”¸è‹±æ–‡</small>`;
  }

  if(progress.mode===1){
    const opts=shuffle([w.zh,...shuffle(words).slice(0,2).map(x=>x.zh)]);
    stage.innerHTML=`
      <div class="word">${w.en}</div>
      ${opts.map(o=>`<button class="btn choice" onclick="checkChoice('${o}')">${o}</button>`).join("")}`;
  }

  if(progress.mode===2){
    progress.build="";
    const letters=shuffle(w.en.split(""));
    stage.innerHTML=`
      <div class="word">${"_".repeat(w.en.length)}</div>
      ${letters.map(l=>`<button class="btn secondary" onclick="addLetter('${l}')">${l}</button>`).join("")}
      <button class="btn primary" onclick="checkSpell()">ç¢ºèª</button>
      <div class="hint">æç¤ºï¼š${w.en[0]}...</div>`;
  }
}

// ===== è¡Œç‚º =====
function next(){
  progress.mode=(progress.mode+1)%3;
  if(progress.mode===0) progress.i++;
  save();
  if(progress.i>=words.length){
    stage.innerHTML="<h2>ğŸ‰ å…¨éƒ¨å®Œæˆï¼</h2>";
    return;
  }
  render();
}

function startSpeech(){
  const r=new (window.SpeechRecognition||window.webkitSpeechRecognition)();
  r.lang="en-US";r.start();
  r.onresult=e=>{
    if(e.results[0][0].transcript.toLowerCase().trim()===words[progress.i].en){
      next();
    }else{logError("speak");alert("å†è©¦ä¸€æ¬¡");}
  };
}
function checkChoice(o){ o===words[progress.i].zh ? next() : (logError("choice"),alert("å†æƒ³æƒ³")); }
function addLetter(l){ progress.build+=l; document.querySelector(".word").innerText=progress.build; }
function checkSpell(){ progress.build===words[progress.i].en ? next() : (logError("spell"),alert("å·®ä¸€é»")); }

// ===== è€å¸«å¾Œå° =====
function showTeacher(){
  let html="<h3>ğŸ‘©â€ğŸ« éŒ¯èª¤çµ±è¨ˆ</h3>";
  if(!Object.keys(errors).length){stage.innerHTML="<p>ç›®å‰æ²’æœ‰éŒ¯èª¤ç´€éŒ„</p>";return;}
  for(const w in errors){
    const e=errors[w];
    html+=`<p>${w}ï½œğŸ¤${e.speak} ğŸŸ¦${e.choice} ğŸ”¤${e.spell}</p>`;
  }
  stage.innerHTML=html;
}

// ===== å•Ÿå‹• =====
render();
</script>
</body>
</html>
